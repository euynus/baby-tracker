# language: zh-CN
功能: 尿布更换记录
  作为新手父母
  我想要记录宝宝的尿布更换情况
  以便监测健康状况和更换频率

  背景:
    假如 我已经登录应用
    并且 我有一个名为"小宝"的宝宝档案

  场景: 记录湿尿布
    假如 我在尿布记录页面
    当 我选择"湿"类型
    并且 我点击"保存"按钮
    那么 应该创建一条新的尿布记录
    并且 记录应该包含:
      | 字段   | 值       |
      | 类型   | 湿       |
      | 时间戳 | 当前时间 |
      | 图标   | 💧       |
    并且 记录应该出现在首页时间线中

  场景: 记录脏尿布
    假如 我在尿布记录页面
    当 我选择"脏"类型
    并且 我点击"保存"按钮
    那么 应该创建一条新的尿布记录
    并且 记录类型应该为"脏"
    并且 图标应该为"💩"

  场景: 记录既湿又脏的尿布
    假如 我在尿布记录页面
    当 我同时选择"湿"和"脏"
    并且 我点击"保存"按钮
    那么 应该创建一条记录
    并且 记录类型应该为"湿+脏"
    并且 应该显示两个图标"💧💩"

  场景: 选择大便颜色
    假如 我选择了"脏"尿布
    当 我在颜色选择器中选择"<颜色>"
    并且 我保存记录
    那么 记录应该包含颜色信息"<颜色>"

    例子:
      | 颜色   |
      | 黄色   |
      | 绿色   |
      | 棕色   |
      | 黑色   |
      | 白色   |

  场景: 选择大便质地
    假如 我选择了"脏"尿布
    当 我在质地选择器中选择"<质地>"
    并且 我保存记录
    那么 记录应该包含质地信息"<质地>"

    例子:
      | 质地   |
      | 稀     |
      | 正常   |
      | 干硬   |
      | 水样   |

  场景: 添加尿布更换备注
    假如 我正在创建尿布记录
    当 我在备注栏输入"有轻微红疹"
    并且 我保存记录
    那么 记录应该包含备注"有轻微红疹"
    并且 备注应该在记录详情中显示

  场景: 查看今日尿布统计
    假如 我有以下尿布记录:
      | 时间       | 类型   | 颜色 | 质地 |
      | 今天 08:00 | 湿     | -    | -    |
      | 今天 10:30 | 脏     | 黄色 | 正常 |
      | 今天 13:00 | 湿+脏  | 黄色 | 稀   |
      | 今天 15:30 | 湿     | -    | -    |
    当 我进入统计页面
    那么 我应该看到:
      | 统计项       | 值   |
      | 今日更换次数 | 4次  |
      | 湿尿布次数   | 3次  |
      | 脏尿布次数   | 2次  |

  场景: 尿布更换频率警告
    假如 当前时间是"14:00"
    并且 上次更换时间是"6小时前"
    当 我打开应用
    那么 应该显示提醒"距上次更换已超过5小时"

  场景: 异常大便颜色警告
    假如 我选择大便颜色为"<颜色>"
    当 我保存记录
    那么 系统应该"<提示>"

    例子:
      | 颜色 | 提示                         |
      | 黑色 | 警告"黑色大便可能异常，建议咨询医生" |
      | 白色 | 警告"白色大便可能异常，建议咨询医生" |
      | 红色 | 警告"发现血丝，建议立即就医"   |
      | 黄色 | 正常保存                     |

  场景: 查看7天尿布趋势
    假如 我有过去7天的尿布记录
    当 我进入统计页面
    并且 我选择"7天"时间范围
    那么 我应该看到每天的更换次数柱状图
    并且 应该显示湿/脏分类统计
    并且 应该显示7天平均更换次数

  场景: 编辑已有尿布记录
    假如 我有一条尿布记录
    当 我点击该记录
    并且 我修改类型为"湿+脏"
    并且 我添加颜色"黄色"和质地"正常"
    并且 我保存修改
    那么 记录应该更新
    并且 统计数据应该重新计算

  场景: 删除错误的尿布记录
    假如 我有一条错误的尿布记录
    当 我在记录上左滑
    并且 点击"删除"按钮
    那么 记录应该被删除
    并且 统计数据应该更新

  场景: 按时间筛选尿布记录
    假如 我有多条尿布记录
    当 我选择筛选条件"<筛选>"
    那么 应该只显示符合条件的记录

    例子:
      | 筛选         |
      | 今天         |
      | 最近7天      |
      | 本月         |
      | 仅显示脏尿布 |
      | 仅显示湿尿布 |

  规则: 记录时间限制
    假如 我手动设置记录时间
    当 时间为"<时间>"
    那么 系统应该"<结果>"

    例子:
      | 时间     | 结果                   |
      | 未来时间 | 提示"不能设置未来时间" |
      | 1年前    | 提示"时间过早，请确认" |
      | 今天     | 保存成功               |

  场景: 尿布更换提醒设置
    假如 我在设置页面
    当 我启用"尿布更换提醒"
    并且 我设置提醒间隔为"3小时"
    那么 当距上次更换超过3小时
    并且 系统应该发送推送通知"该给宝宝换尿布了"

  场景: 夜间模式静音
    假如 我启用了尿布更换提醒
    并且 我启用了"夜间勿扰"模式
    当 当前时间在"22:00 - 06:00"之间
    那么 不应该发送提醒通知
    并且 提醒应该延后到早上6点后
